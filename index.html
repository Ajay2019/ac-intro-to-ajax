<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">


    <title>AnnieCannons Async/JSON slides</title>

    <meta name="description" content="AnnieCannons class slides">
    <meta name="author" content="AnnieCannons">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/league.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

        <!--Introduction slide-->
        <section>
            <h2>Introduction to Async and JSON</h2>
        </section>
        <!--/Intro Slides-->
   
        <!-- Slide 1 -->
       
        <section>
            <h2>
                How do JavaScript and HTML work together?
            </h2>
            <p>
                <span style="color:yellow" >1. Static content and user interactions!</span>  
            </p>
            <ol>
                <li class="fragment">Think a simple website</li>
                <li class="fragment">Everyone accesses the basic content and functionality of a web page, using any browser or Internet connection</li>
                <li class="fragment">The website can respond to user driven events. This can update the UI</li>
            </ol>
        </section> 

        <!-- Slide 2 -->

        <section>
            <h2>
                How do JavaScript and HTML work together?
            </h2>
            <p>
                <span style="color:yellow" >2. Dynamic Content and More Data</span>
            </p>
            <ol>
                <li class="fragment">Think a complicated web applications</li>
                <li class="fragment">Everyone can log in and create their own accounts. This will load specific data depending on the user interactions. The "shell" of the app is the same for all users, but the content is dynamic.</li>
                <li class="fragment">What are some examples?</li>
            </ol>
        </section> 
        
        <!-- Slide 3 -->
        <section>
            <h2>
                1) Static Content
            </h2>
            <img src="images/image2.png">
            <br>
            <p>A click from the user changes the UI, but the data is the same of all users.</a>
        </section>

        <!-- Slide 4 -->
        <section>
            <h2>
                2) Dynamic Content
            </h2>
            <p>Adding Data (often user data)!</p>
            <img src="images/dynamic_content.png">
            <p>New unique data is added specifically for the user who is currently using the app.</a>
        </section> 

        <section>
            <h2>Where is user data stored?</h2>
            <img class="fragment" src="images/internet.gif" alt="Internet Gif">
            <p class="fragment">In databases across the Internet!</p>
        </section>

        <section>
            <h2>Remember!</h2>
            <p><span style="color: yellow">Backend</span> languages handle the requests for data about users. <span style="color: lightpink">Databases</span>  hold all of the information about our users.</p>
            <p>What happens if that language is different from JavaScript? And how do we make those requests?</p>
            <img src="images/thinking.gif" alt="Thinking Gif">
        </section>
        
        <!-- Slide 5 -->
        <section>
            <h2>
                Sending/Receiving Data Across the Internet
            </h2>
            <p>JSON = JavaScript Object Notation </p>
            <ul>
                <li class="fragment">JSON is all about transmitting data objects </li>
                <li class="fragment">This is a way to store and send data!</li>
                <li class="fragment">JSON can be read by all sorts of backend platforms and databases.</li>
            </ul>
            <aside class="notes"></aside>
        </section>

        <!-- Slide 6 -->
        <section>
            <h2>
                How does JSON work?
            </h2>
            <ul>
                <li class="fragment">Using Key/Value pairs</li>
                <li class="fragment">Keys must be stored with quotes (unlike JS Objects)</li>
                <li class="fragment">Value can be the following data types: Number, String, Boolean, Array, Object, null</li>
                <li class="fragment">Resembles objects in JS</li>
            </ul>
            <aside class="notes"></aside>
        </section> 

        <!-- Slide 7 -->  
        <section>
            <h2>
                  Example
            </h2>
            <pre><code class="hljs" data-trim contenteditable>
{
 "firstName": "Jane", 
 "lastName": "Smith", 
 "address": { 
   "streetAddress": "425 2nd Street", 
   "city": "San Francisco", 
   "state": "CA", 
   "postalCode": 94107 
 }, 
 "phoneNumbers": [ 
   "212 732-1234", 
   "646 123-4567" ] 
} 
            </code></pre>
            <aside class="notes"></aside>
          </section> 
                
        
        <!-- Slide 9 -->        
        <section>
            <h2>
                How is data sent over the internet?
            </h2>
            <p>
               GET and POST Requests
            </p>
            <img src="images/Rest-API.png" alt="Get and Post Requests">
        </section> 

        <section>
            <h2>Let's make a GET request for some JSON</h2>
            <p class="fragment">Add the following URL into your URL bar in your browser.</p>
            <p class="fragment">Your browser will automatically make a GET request, and this particular response will be JSON. This is very common for when you are making API calls to get data.</p>
            <p class="fragment"><a href="https://cat-fact.herokuapp.com/facts">Click here</a></p>
            <p class="fragment">Add JSON Formatter from the Chrome Web Store.</p>
        </section>

        <section>
            <h2>When do we make Get and Post requests?</h2>
            <ul>
                <li class="fragment">When we go to a website (GET)</li>
                <li class="fragment">When we login or sign up for a web app (POST)</li>
                <li class="fragment">When we search for items in an online store (GET)</li>
                <li class="fragment">When we submit a post to a social media site (POST)</li>
                <li class="fragment">When we submit a form (POST)</li>
            </ul>
        </section>

        <section>
            <h2>Web Apps</h2>
            <p>Web apps can be set up to many, many GET and POST request for almost any user action. Frontend developers send those requests and receive the responses. They also determine WHEN a request is sent and how it is handled by the UI.</p>
        </section>
        
        <!-- Slide 10 -->
        <section>
            <h2>
                What does asynchronous mean?
            </h2>
            <p>
               Asynchronous technologies enable users to access information or communicate at different points of time, usually at the time of choice of the user.
            </p>
            <aside class="notes"></aside>
        </section> 

        <section>
            <h2>Asynchronous Analogy</h2>
            <p>A bank teller that only serves one person can only serve that one person at a time</p>
            <p>VERSUS </p>
            <p>Multiple tellers who can see multiple people but all access the same back room.</p>
        </section>

        <!-- Slide 11 -->
        <section>
            <p>
               The traditional data-driven web application is written so that it:
            </p>
            <ol>
                <li class="fragment">Displays a webpage</li>
                <li class="fragment">Waits for user interaction</li>
                <li class="fragment">Asks the server for data</li>
                <li class="fragment">Reloads the webpage</li>
            </ol>
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 12 -->
        <section>
            <h2>
                Sad Users
            </h2>
            <p>
               This has the effect that the user has "down time" - there is a period of time where they can't interact with the webpage at all
            </p>
            <img src="images/smiley_sad-512.png">
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 16 -->
        <section>
            <h2>
                Async in the Wild
            </h2>
            <a href="https://www.airbnb.com/wishlists/popular" target="_blank"><img src="images/airbnb.png"></a>
            <p>As you load more listings on Airbnb, you are sending requests for more data.</p>
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 17 -->
        <section>
            <h2>
                Web 1.0 and User Interaction
            </h2>
            <img src="images/web_user_int1.png">
            <aside class="notes"></aside>
        </section> 
               
        <!-- Slide 18 --> 
        <section>
            <h2>
                Web 2.0 and User Interaction
            </h2>
            <img src="images/web_user_int2.png">
            <aside class="notes"></aside>
        </section>

        <!-- Slide 19 -->
        <section>
            <h2>
                Importance of Async for Web 2.0 Programming
            </h2>
            <ul>
                <li class="fragment">The user can still interact with other parts of the page while one part is loading.</li>
                <li class="fragment"> The user can selectively load the content they're interested in.</li>
                <li class="fragment">This is arguably the most important part of Web 2.0 programming!</li>
            </ul>
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 20 -->
        <section>
            <h2>
                Web 1.0 vs. Web 2.0
            </h2>
            <table>
            <tr>
              <td><img src="images/web_user_int1.png" width="75%"></td>
              <td><img src="images/web_user_int2.png" width="75%"></td>
            </tr>
            <tr>
              <td>Technologies Used:</td>
              <td>Technologies Used:</td>
            </tr>
            <tr>
              <td style="vertical-align:top">
                <ul>
                  <li>HTML</li>
                  <li>Server-Side Scripts</li>
                </ul>
              </td>
              <td style="vertical-align:top">
                <ul>
                  <li>HTML</li>
                  <li>Server-Side Scripts</li>
                  <li>
                    Async Tools (Ajax, Fetch, APIs)
                  </li>
                </ul>
              </td>
            </tr>
          </table>
            <aside class="notes"></aside>
        </section> 
    
        <!-- Slide 21 -->
        <section>
            <h2>
                Requests and Responses
            </h2>
            <img src="images/2.jpg">
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 22 -->
        <section>
            <h2>
                Requests and Responses
            </h2>
            <ul>
                <li class="fragment"><strong>Front-End: </strong>Hey, Back-End! Here's my credentials. Can I get some data? How about books on AJAX?</li>
                <li class="fragment"><strong>Back-End </strong><em>thinks about it, decides how to handle request...looks in database, searches...</em></li>
                <li class="fragment"><strong>Back-End: </strong>200 OK, here are some books on AJAX!</li>
                <li class="fragment"><strong>Front-End: </strong>Thanks! I'm going to make an online bookshelf with the data!</li>
            </ul>
            <aside class="notes"></aside>
        </section> 

        
        <!-- Slide 23 -->
        <section>
            <h2>
                How does this communicating take place?
            </h2>
            <p class="fragment">There are different methods for making async requests, and new ones are being added all the time.</p>
            <p class="fragment">We will talk about a tool that is built into JavaScript, called Fetch</p>
            <img class="fragment" src="images/fetch.gif" alt="So Fetch">
            <aside class="notes"></aside>
        </section> 

        <!-- Slide 13 -->
        <section>
            <h2>
                (Previously) AJAX
            </h2>
            <p>AJAX = "Asynchronous JavaScript and XML."</p>
            <ul>
                <li class="fragment">This was a tool most commonly used with jQuery to make Asynchronous GET and POST requests. It is not really used much anymore as a technology.</li>
            </ul>
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 14 -->
        <section>
            <h2>
                Fetch
            </h2>
            <ul>
                <li class="fragment">Allows for asynchronous data transfer between a webpage and a web server/API.</li>
                <li class="fragment">JavaScript tells the browser to retrieve or send data from a particular URL and send the response back to the webpage.</li>
            </ul>
            <aside class="notes"></aside>
        </section> 
        
       <!-- Slide 15 -->
       <section>
            <h2>
                Let's talk about this diagram
            </h2>
            <img src="images/Screen Shot 2020-06-11 at 10.39.14 AM.png" alt="Diagram of Client and Backend Communication">
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 24 -->
        <!-- <section>
            <h2>
                XMLHttpRequest
            </h2>
            <p>
               XMLHttpRequest (XHR) is an API (we will cover these next) available to web browser scripting languages such as JavaScript. It is used to send HTTP or HTTPS requests to a web server and load the server response data back into the script.
            </p>
            <ul>
                <li class="fragment">Don't worry about the XML part</li>
                <li class="fragment">We can just use HTML or JSON!</li>
                <li class="fragment"><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">Click here to learn more</a></li>
            </ul>
            <aside class="notes"></aside>
        </section> 
        
        <section>
            <h2>
                Anatomy of an XMLHttpRequest
            </h2>
            <pre><code class="hljs" data-trim contenteditable>
// instantiate a new request
var request = new XMLHttpRequest(); 

// add event listeners
request.addEventListener('load', function () {

  // transform a string into a usable object
  console.log(JSON.parse(request.responseText));
});

request.open('get', '/path/to/api', true);
request.setRequestHeader('Content-type', 'application/json');
request.send();
            </code></pre>
            <aside class="notes"></aside>
        </section> 
        
        <section>
            <h2>
                BUT! We don't need to write all that code...
            </h2>
            <aside class="notes"></aside>
        </section> 
        
        <section>
            <h2>
                jQuery and AJAX
            </h2>
            <p>
               We can use the jQuery $.<a href="http://api.jquery.com/jQuery.ajax/">ajax</a> function.</p>
            </p>
             <pre><code class="hljs" data-trim contenteditable>
$.ajax({type: "GET",
  url: "filename.json",
  dataType: "json",
  success: function(data) { },
  error: function(xhr, status, e) { }
});    
            </code></pre>
            <aside class="notes"></aside>
        </section> 
        
        <section>
            <h2>
                Using jQuery for everything
            </h2>
            <pre><code class="hljs" data-trim contenteditable>
$.ajax({type: "GET",
  url: "books.json",
  dataType: "json",
  success: function(books) { 
    for (var i = 0; i < books.length; i++) { 
      var book = books[i];
      var p = $('&lt;p&gt;');
      p.html(book.title + ' by ' + book.author);
      $('body').append(p);
    }
  },
  error: function(xhr, status, e) {
    console.log(status, e);
  }
});
            </code></pre>
            <aside class="notes"></aside>
        </section> 
        
        <section>
            <h2>
                Remember!
            </h2>
            <p>
               jQuery is just a library, written by human beings. Use it because it saves you time, but don't rely too hard on it!
            </p>
            <aside class="notes"></aside>
        </section> 
    
        <section>
            <h2>
                Debugging AJAX Requests
            </h2>
            <ul>
                <li class="fragment">Open the Dev Tools and go to Network. Select "XHR" filter to see all XMLHttpRequests made.</li>
                <li class="fragment">Refresh the page</li>
                <li class="fragment">See what the request responded with by clicking one of the elements and then its "Response" tab.</li>
                <li class="fragment">Explore this tab! It will teach you so much about what's in requests and responses. (Google everything you don't understand.)</li>
                <li class="fragment">Visit <a href="https://www.airbnb.com/wishlists/popular" target="_blank">this link</a> again.</li>
            </ul>
            <aside class="notes"></aside>
        </section> 
         -->
        <!-- Slide 31 -->
        <section>
            <h2>Server Status Responses</h2>
            <img src="images/statuscode1.png" alt="Server Status Codes">
        </section>

        <!-- Slide 32 -->
        <section>
            <h2>
                Fetch
            </h2>
            <p>
               Looking at "GET" and "POST"
            </p>
            <pre><code class="hljs" data-trim contenteditable>
//GET
fetch('http://example.com/movies.json')
.then(response => response.json())
.then(data => console.log(data));

//POST
var data = { name: "lhack"}
fetch('http://example.com/movies.json', {
    method: 'POST', 
    body: JSON.stringify(data) 
})
.then(response => response.json())
.then(data => console.log(data));
            </code></pre>
            <aside class="notes"></aside>
        </section> 

        <section>
            <h2>understanding .then()</h2>
<pre><code class="hljs" data-trim contenteditable>
doSomething()
.then(function(result) {
return doSomethingElse(result);
})
.then(function(newResult) {
return doThirdThing(newResult);
})
.then(function(finalResult) {
console.log('Got the final result: ' + finalResult);
})
.catch(failureCallback);
</code></pre>
        </section>

        <section>
            <h2>understanding .then() with arrow functions</h2>
<pre><code class="hljs" data-trim contenteditable>
doSomething()
.then(result => {
return doSomethingElse(result);
})
.then(newResult => {
return doThirdThing(newResult);
})
.then(finalResult => {
console.log('Got the final result: ' + finalResult);
})
.catch(failureCallback);
</code></pre>
        </section>

        
        <!-- Slide 33 -->
        <!-- <section>
            <h2>
                Cross Domain Policy
            </h2>
            <ul>
                <li class="fragment">The same-origin policy restricts how a document or script loaded from one origin can interact with a resource from another origin. </li>
                <li class="fragment">It is a critical security mechanism for isolating potentially malicious documents.</li>
                <li class="fragment">Two pages have the same origin if the protocol, port (if one is specified), and host are the same for both pages. The following table gives examples of origin comparisons:</li>
            </ul>
            <aside class="notes"></aside>
        </section>  -->
    
        <!-- Slide 34 -->
        <!-- <section>
            <h2>
                Cross Domain Policy
            </h2>
            <p>
               For http://store.company.com/dir/page.html:
            </p>
            <img src="images/cross_domain_policy.png">
            <aside class="notes"></aside>
        </section>  -->
        
        <!-- Slide 35 -->
        <section>
            <h2>More Fetch Examples</h2>
            <p>Let's walk through <a href="https://css-tricks.com/using-fetch/">this example</a></p>
            <aside class="notes"></aside>
        </section> 
        
        <!-- Slide 36 -->
        <section>
            <h2>
                Exercise using an API
            </h2>
            <p> We will check out this example using the Cat Facts API
               <a href="https://codepen.io/LHack/pen/eYJZBPj" target="_blank">Click here</a>
            </p>
            <img src="images/exercise.gif" alt="Exercise Time">
            <aside class="notes"></aside>
        </section> 
        

        
        <section>
            <h2>
                Let's display the data!
            </h2>
            <pre><code class="hljs" data-trim contenteditable>
$('.btn').click(function() {

$('.text').text('loading . . .');

fetch('https://cat-fact.herokuapp.com/facts')
.then(response => response.json())
.then(data => {
    for (var i = 0; i < data.all.length; i++){ $(".text").append("<p>" + data.all[i].text + "</p>")
}
});
});
            </code></pre>
            <aside class="notes"></aside>
        </section> 
            
        <section>
            <h2>
                Another Fetch GET exercise
            </h2>
            <p>
               <a href="https://codepen.io/LHack/pen/KKVzWKj" target="_blank">Click here</a>
            </p>
            <img src="images/exercise.gif" alt="Exercise Time">
        </section> 

        <section>
            <h2>Fetch POST Exercise</h2>
            <ul>
                <li>Make a new source folder for a website.</li>
                <li>Allow the user to enter a song title and artist.</li>
                <li>Call <a href="https://lyricsovh.docs.apiary.io/#reference/0/lyrics-of-a-song/search">this API.</a></li>
                <li>Get the lyrics.</li>
                <li>Display to your user!</li>
            </ul>
            <img src="images/exercise.gif" alt="Exercise Time">
        </section>

        <section>
            <h2>How JS Works!</h2>
            <p><a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">The Event Loop</a></p>
        </section>

        <section>
            <h2>Great Resources</h2>
            <p><a href="https://scotch.io/courses/10-need-to-know-javascript-concepts/callbacks-promises-and-async">Callbacks
                    and Async - Oh My!</a></p>
            <p><a href="https://developers.google.com/web/fundamentals/">Web Fundamentals</a></p>
        </section>

        <section>
            <h2>What are other ways to be async in JS?</h2>
            <p>Async/Await</p>
            <ul>
                <li><a href="https://javascript.info/async-await">Make our async JS work the way we want it to</a></li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">No longer need to chain promises together (.then())</a></li>
            </ul>
        </section>

        
        <!-- Slide 36 -->
        <!-- <section>
            <h2>
                List of additional key concepts
            </h2>
            <ul>
                <li class="fragment">What are the parts of an HTTP request?</li>
                <li class="fragment">What does CRUD stand for?</li>
                <li class="fragment">What is the same origin policy?</li>
                <li class="fragment">What are the 4 basic CRUD operations and methods?</li>
                <li class="fragment">What is the difference between JSONP and JSON?</li>
            </ul>
            <aside class="notes"></aside>
        </section> -->

        <!-- End Slide -->

       

        <section style="text-align: left;">
            <h1>THE END</h1>
            <p>Thank you for your attention!</p>
        </section>

    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
